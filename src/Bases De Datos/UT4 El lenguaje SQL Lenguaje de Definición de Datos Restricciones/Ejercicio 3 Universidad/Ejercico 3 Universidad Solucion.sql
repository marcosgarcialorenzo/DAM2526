CREATE TABLE ALUMNOS
(
    DNI       VARCHAR2(10) NOT NULL,
    NOMBRE    VARCHAR2(20),
    APELLIDOS VARCHAR2(20),
    EDAD      NUMBER(2),
    CONSTRAINT PK_ALUMNOS PRIMARY KEY (DNI)
);

CREATE TABLE ASIGNATURAS
(
    CODASIG    NUMBER(3) NOT NULL,
    NOMASIG    VARCHAR2(40),
    NUMALUMNOS NUMBER(3),
    CODCARRERA NUMBER(3),
    CONSTRAINT PK_ASIGNATURAS PRIMARY KEY (CODASIG)
);

CREATE TABLE CARRERAS
(
    CODCARRERA      NUMBER(3) NOT NULL,
    NOMCARRERA      VARCHAR2(40),
    NUMMATRICULADOS NUMBER(3),
    CODASIG         NUMBER(3) NOT NULL,
    CONSTRAINT PK_CARRERAS PRIMARY KEY (CODCARRERA),
    CONSTRAINT FK_CARRERAS_ASIGNATURAS FOREIGN KEY (CODASIG) REFERENCES ASIGNATURAS (CODASIG),
    CONSTRAINT CK_NOMCARRERA CHECK (NOMCARRERA IN ('INFORMATICA', 'TELEMATICA', 'MEDICINA', 'DERECHO PENAL')),
    CONSTRAINT CK_CODCARRERA CHECK (SUBSTR(TO_CHAR(CODCARRERA), 1, 1) = '1'),
    CONSTRAINT CK_CODASIG CHECK (SUBSTR(TO_CHAR(CODASIG), 1, 1) = '1')
);

CREATE TABLE MATRICULADOS
(
    DNI            VARCHAR2(10) NOT NULL,
    CODASIG        NUMBER(3)    NOT NULL,
    FECHAMATRICULA VARCHAR2(10),
    CONSTRAINT PK_MATRICULADOS PRIMARY KEY (DNI, CODASIG)
);

INSERT INTO ALUMNOS
VALUES ('1111111111', 'LUIS', 'PEREZ', 22);
INSERT INTO ALUMNOS
VALUES ('2222222222', 'ANTONIO', 'CASADO', 22);
INSERT INTO ALUMNOS
VALUES ('3333333333', 'JULIAN', 'SANCHEZ', 22);
INSERT INTO ALUMNOS
VALUES ('4444444444', 'PILAR', 'RUIZ', 22);
INSERT INTO ALUMNOS
VALUES ('5555555555', 'ELENA', 'SIERRA', 22);
INSERT INTO ALUMNOS
VALUES ('6666666666', 'TOMAS', 'BANDA', 22);

INSERT INTO ASIGNATURAS
VALUES (001, 'SISTEMAS OPERATIVOS', 122, 001);
INSERT INTO ASIGNATURAS
VALUES (002, 'PROGRAMACION SISTEMAS', 102, 001);
INSERT INTO ASIGNATURAS
VALUES (003, 'APLICACIONES MULTIMEDIA', 55, 002);
INSERT INTO ASIGNATURAS
VALUES (004, 'APLICACIONES SOFTWARE', 66, 002);
INSERT INTO ASIGNATURAS
VALUES (005, 'APLICACIONES OFIMATICA', 100, 002);
INSERT INTO ASIGNATURAS
VALUES (006, 'RECUPERACION Y ACCESO A LA INFORMACION', 32, 001);

INSERT INTO CARRERAS
VALUES ('001', 'INFORMATICA', 500, '001');
INSERT INTO CARRERAS
VALUES (002, 'TELEMATICA', 200, 002);
INSERT INTO CARRERAS
VALUES (003, 'MEDICINA', 300);
INSERT INTO CARRERAS
VALUES (004, 'DERECHO PENAL', 400);

INSERT INTO MATRICULADOS
VALUES ('1111111111', 001, '2019/10/01');
INSERT INTO MATRICULADOS
VALUES ('2222222222', 001, '2019/10/01');
INSERT INTO MATRICULADOS
VALUES ('3333333333', 001, '2019/10/01');
INSERT INTO MATRICULADOS
VALUES ('4444444444', 002, '2019/10/01');
INSERT INTO MATRICULADOS
VALUES ('5555555555', 002, '2019/10/01');
INSERT INTO MATRICULADOS
VALUES ('6666666666', 002, '2019/10/01');